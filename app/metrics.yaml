# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.


$schema: moz://mozilla.org/schemas/glean/metrics/1-0-0

events:
  app_opened:
    type: event
    description: >
      A user opened the app
    extra_keys:
      source:
        description: "The method used to open Fenix. Possible values are: `app_icon`, `custom_tab` or `link`"
    bugs:
    - 968
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1067#issuecomment-474598673
    notification_emails:
    - telemetry-client-dev@mozilla.com
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  search_bar_tapped:
    type: event
    description: >
      A user tapped the search bar
    extra_keys:
      source:
        description: "The view the user was on when they initiated the search (For example: `Home` or `Browser`)"
    bugs:
    - 959
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1067#issuecomment-474598673
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  entered_url:
    type: event
    description: >
      A user entered a url
    extra_keys:
      autocomplete:
        description: "A boolean that tells us whether the URL was autofilled by an Autocomplete suggestion"
    bugs:
    - 959
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1067#issuecomment-474598673
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  performed_search:
    type: event
    description: >
      A user performed a search
    extra_keys:
      source:
        description: >
          A string that tells us how the user performed the search. Possible values are:
          * default.action
          * default.suggestion
          * shortcut.action
          * shortcut.suggestion
    bugs:
    - 959
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1067#issuecomment-474598673
    - https://github.com/mozilla-mobile/fenix/pull/1677
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  browser_menu_action:
    type: event
    description: >
      A browser menu item was tapped
    extra_keys:
      item:
        description: >
          A string containing the name of the item the user tapped. These items include:
          Settings, Library, Help, Desktop Site toggle on/off, Find in Page, New Tab,
          Private Tab, Share, Report Site Issue, Back/Forward button, Reload Button
    bugs:
    - 1024
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1214#issue-264756708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  ss_menu_opened:
    type: event
    description: >
      A user opened the search shortcut menu in the search view by pressing the shortcuts button
    bugs:
    - 793
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1202#issuecomment-476870449
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  ss_menu_closed:
    type: event
    description: >
      A user closed the search shortcut menu in the search view by pressing the shortcuts button
    bugs:
    - 793
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1202#issuecomment-476870449
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  ss_selected:
    type: event
    description: >
      A user selected a search shortcut engine to use
    extra_keys:
      engine:
        description: "The name of the built-in search engine the user selected as a string"
    bugs:
    - 793
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1202#issuecomment-476870449
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  total_uri_count:
    type: counter
    description: >
      A counter of URIs visited by the user in the current session, including page reloads. This does not include background page requests and URIs from embedded pages or private browsing.
    send_in_pings:
    - baseline
    bugs:
    - 1301
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1785
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  preference_toggled:
    type: event
    description: >
      A user toggled a preference switch in settings
    extra_keys:
      preference_key:
        description: "The preference key for the switch preference the user toggled. We currently track:
          show_search_suggestions, show_visited_sites_bookmarks, remote_debugging, telemetry, tracking_protection"
      enabled:
        description: "Whether or not the preference is *now* enabled"
    bugs:
    - 975
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1896
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

crash_reporter:
  opened:
    type: event
    description: >
      The crash reporter was displayed
    bugs:
    - 1040
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1214#issue-264756708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  closed:
    type: event
    description: >
      The crash reporter was closed
    extra_keys:
      crash_submitted:
        description: "A boolean that tells us whether or not the user submitted a crash report"
    bugs:
    - 1040
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1214#issue-264756708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

context_menu:
  item_tapped:
    type: event
    description: >
      A user tapped an item in the browsers context menu
    extra_keys:
      named:
        description: >
          The name of the item that was tapped. Available items are
          ```
          open_in_new_tab, open_in_private_tab, open_image_in_new_tab,
          save_image, share_link, copy_link, copy_image_location
          ```
    bugs:
    - 957
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1344#issuecomment-479285010
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

find_in_page:
  opened:
    type: event
    description: >
      A user opened the find in page UI
    bugs:
    - 1036
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1344#issuecomment-479285010
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  closed:
    type: event
    description: >
      A user closed the find in page UI
    bugs:
    - 1036
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1344#issuecomment-479285010
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  next_result:
    type: event
    description: >
      A user clicked the "next result" button
    bugs:
    - 1036
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1344#issuecomment-479285010
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  previous_result:
    type: event
    description: >
      A user clicked the "previous result" button
    bugs:
    - 1036
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1344#issuecomment-479285010
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  searched_page:
    type: event
    description: >
      A user searched the page
    bugs:
    - 1036
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1344#issuecomment-479285010
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

quick_action_sheet:
  opened:
    type: event
    description: >
      A user opened the quick action sheet UI
    bugs:
    - 1195
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1362#issuecomment-479668466
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  closed:
    type: event
    description: >
      A user closed the quick action sheet UI
    bugs:
    - 1195
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1362#issuecomment-479668466
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  share_tapped:
    type: event
    description: >
      A user tapped the share button
    bugs:
    - 1195
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1362#issuecomment-479668466
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  bookmark_tapped:
    type: event
    description: >
      A user tapped the bookmark button
    bugs:
    - 1195
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1362#issuecomment-479668466
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  download_tapped:
    type: event
    description: >
      A user tapped the download button
    bugs:
    - 1195
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1362#issuecomment-479668466
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  open_app_tapped:
    type: event
    description: >
      A user tapped the open in app button
    bugs:
      - 1195
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/4629
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"

metrics:
  default_browser:
    type: boolean
    lifetime: application
    description: >
      Is Fenix the default browser?
    send_in_pings:
    - metrics
    bugs:
    - 960
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1067#issuecomment-474598673
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  search_count:
    type: labeled_counter
    description: >
      The labels for this counter are `<search-engine-name>.<source>`.

      If the search engine is bundled with Fenix `search-engine-name` will be the name of the search engine. If it's a
      custom search engine (defined: https://github.com/mozilla-mobile/fenix/issues/1607) the value will be `custom`.

      `source` will either be `action` or `suggestion`
    send_in_pings:
    - metrics
    - baseline
    bugs:
    - 1158
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1677
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2019-09-01"
  mozilla_products:
    type: string_list
    lifetime: application
    description: >
      A list of all the Mozilla products installed on device. We currently scan for: Firefox, Firefox Beta,
       Firefox Aurora, Firefox Nightly, Firefox Fdroid, Firefox Lite, Reference Browser, Reference Browser Debug,
       Fenix, Focus, and Lockwise.
    send_in_pings:
    - metrics
    bugs:
    - 1192
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1953/
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2019-09-01"
  default_moz_browser:
    type: string
    lifetime: application
    description: >
      The name of the default browser on device if and only if it's a Mozilla owned product
    send_in_pings:
    - metrics
    bugs:
    - 1192
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1953/
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2019-09-01"

search.default_engine:
  code:
    type: string
    lifetime: application
    description: >
      If the search engine is pre-loaded with Fenix this value
      will be the search engine identifier. If it's a custom search engine
      (defined: https://github.com/mozilla-mobile/fenix/issues/1607) the
      value will be "custom"
    send_in_pings:
    - metrics
    bugs:
    - 800
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1606
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2019-09-01"
  name:
    type: string
    lifetime: application
    description: >
      If the search engine is pre-loaded with Fenix this value
      will be the search engine name. If it's a custom search engine
      (defined: https://github.com/mozilla-mobile/fenix/issues/1607) the
      value will be "custom"
    send_in_pings:
    - metrics
    bugs:
    - 800
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1606
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2019-09-01"
  submission_url:
    type: string
    lifetime: application
    description: >
      If the search engine is pre-loaded with Fenix this value
      will be he base URL we use to build the search query for the search engine.
      For example: https://mysearchengine.com/?query=%s. If it's a custom search engine
      (defined: https://github.com/mozilla-mobile/fenix/issues/1607) the
      value will be "custom"
    send_in_pings:
    - metrics
    bugs:
    - 800
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1606
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2019-09-01"

bookmarks_management:
  open_in_new_tab:
    type: event
    description: >
      A user opened a bookmark in a new tab.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  open_in_new_tabs:
    type: event
    description: >
      A user opened multiple bookmarks at once in new tabs.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  open_in_private_tab:
    type: event
    description: >
      A user opened a bookmark in a new private tab.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  open_in_private_tabs:
    type: event
    description: >
      A user opened multiple bookmarks at once in new private tabs.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  edited:
    type: event
    description: >
      A user edited the title and/or URL of an existing bookmark.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  moved:
    type: event
    description: >
      A user moved an existing bookmark or folder to another folder.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  removed:
    type: event
    description: >
      A user removed a bookmark item.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  multi_removed:
    type: event
    description: >
      A user removed multiple bookmarks at once.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  shared:
    type: event
    description: >
      A user shared a bookmark.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  copied:
    type: event
    description: >
      A user copied a bookmark.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  folder_add:
    type: event
    description: >
      A user added a new bookmark folder.
    bugs:
    - 974
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1708
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  folder_remove:
    type: event
    description: >
      A user removed a bookmark folder.
    bugs:
      - 3174
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3724
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"

custom_tab:
  closed:
    type: event
    description: >
      A user closed the custom tab
    bugs:
    - 977
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1697
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  action_button:
    type: event
    description: >
      A user pressed the action button provided by the launching app
    bugs:
    - 977
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1697
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  menu:
    type: event
    description: >
      A user opened the custom tabs menu
    bugs:
    - 977
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1697
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

activation:
  identifier:
    type: string
    lifetime: ping
    description: >
      A hashed and salted version of the Google Advertising ID from the device.
      This will never be sent in a ping that also contains the client_id.
    send_in_pings:
    - activation
    bugs:
    - 1538011
    - 1501822
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1707#issuecomment-486972209
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2019-10-01"

  activation_id:
    type: uuid
    lifetime: user
    description: >
      An alternate identifier, not correlated with the client_id, generated once
      and only sent with the activation ping.
    send_in_pings:
    - activation
    bugs:
    - 1538011
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/1707#issuecomment-486972209
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2019-10-01"

qr_scanner:
  opened:
    type: event
    description: >
      A user opened the QR scanner
    bugs:
    - 1857
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2524#issuecomment-492739967
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  prompt_displayed:
    type: event
    description: >
      A user scanned a QR code, causing a confirmation prompt to display asking if they want to navigate to the page
    bugs:
    - 1857
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2524#issuecomment-492739967
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  navigation_allowed:
    type: event
    description: >
      A user tapped "allow" on the prompt, directing the user to the website scanned
    bugs:
    - 1857
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2524#issuecomment-492739967
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  navigation_denied:
    type: event
    description: >
      A user tapped "deny" on the prompt, putting the user back to the scanning view
    bugs:
    - 1857
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2524#issuecomment-492739967
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

library:
  opened:
    type: event
    description: >
      A user opened the library
    bugs:
    - 976
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2538#issuecomment-492830242
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  closed:
    type: event
    description: >
      A user closed the library
    bugs:
    - 976
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2538#issuecomment-492830242
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  selected_item:
    type: event
    description: >
      A user selected a library item
    extra_keys:
      item:
        description: "The library item the user selected"
    bugs:
    - 976
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2538#issuecomment-492830242
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

error_page:
  visited_error:
    type: event
    description: >
      A user encountered an error page
    extra_keys:
      error_type:
        description: "The error type of the error page encountered"
    bugs:
    - 1242
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2491#issuecomment-492414486
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

sync_auth:
  opened:
    type: event
    description: >
      A user opened the sync authentication page
    bugs:
    - 1190
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  closed:
    type: event
    description: >
      A user closed the sync page
    bugs:
    - 1190
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  sign_in:
    type: event
    description: >
      A user pressed the sign in button on the sync authentication page and was successfully signed in to FxA
    bugs:
    - 1190
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  sign_out:
    type: event
    description: >
      A user pressed the sign out button on the sync account page and was successfully signed out of FxA
    bugs:
      - 1190
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  scan_pairing:
    type: event
    description: >
      A user pressed the scan pairing button on the sync authentication page
    bugs:
    - 1190
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  create_account:
    type: event
    description: >
      A user pressed the create account button on the sync authentication page
    bugs:
    - 1190
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

sync_account:
  opened:
    type: event
    description: >
      A user opened the sync account page
    bugs:
    - 1190
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  closed:
    type: event
    description: >
      A user closed the sync account page
    bugs:
    - 1190
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"
  sync_now:
    type: event
    description: >
      A user pressed the sync now button on the sync account page
    bugs:
    - 1190
    data_reviews:
    - https://github.com/mozilla-mobile/fenix/pull/2745#issuecomment-494918532
    notification_emails:
    - fenix-core@mozilla.com
    expires: "2020-03-01"

history:
  opened:
    type: event
    description: >
      A user opened the history screen
    bugs:
      - 2362
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3940
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  removed:
    type: event
    description: >
      A user removed a history item
    bugs:
      - 2362
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3940
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  removed_all:
    type: event
    description: >
      A user removed all history items
    bugs:
      - 2362
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3940
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  shared:
    type: event
    description: >
      A user shared a history item
    bugs:
      - 2362
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3940
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  opened_item:
    type: event
    description: >
      A user opened a history item
    bugs:
      - 2362
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3940
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"

reader_mode:
  available:
    type: event
    description: >
      Reader mode is available for the current page
    bugs:
      - 2267
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3941
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  opened:
    type: event
    description: >
      A user opened reader mode
    bugs:
      - 2267
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3941
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  closed:
    type: event
    description: >
      A user closed reader mode
    bugs:
      - 2267
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/4328
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  appearance:
    type: event
    description: >
      A user tapped the appearance button
    bugs:
      - 2267
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3941
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"

collections:
  renamed:
    type: event
    description: >
      A user renamed a collection
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  tab_restored:
    type: event
    description: >
      A user restored a tab from collection tab list
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  all_tabs_restored:
    type: event
    description: >
      A user tapped "open tabs" from collection menu
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  tab_removed:
    type: event
    description: >
      A user tapped remove tab from collection tab list
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  shared:
    type: event
    description: >
      A user tapped share collection
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  removed:
    type: event
    description: >
      A user tapped delete collection from collection menu
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  saved:
    type: event
    description: >
      A user saved a list of tabs to a new collection
    extra_keys:
      tabs_open:
        description: "The number of tabs open in the current session"
      tabs_selected:
        description: "The number of tabs added to the collection"
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  tabs_added:
    type: event
    description: >
      A user saved a list of tabs to an existing collection
    extra_keys:
      tabs_open:
        description: "The number of tabs open in the current session"
      tabs_selected:
        description: "The number of tabs added to the collection"
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  tab_select_opened:
    type: event
    description: >
      A user opened the select tabs screen (the first step of the collection creation flow)
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/3935
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  add_tab_button:
    type: event
    description: >
      A user tapped the "add tab" button in the three dot menu of collections
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/4358
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  long_press:
    type: event
    description: >
      A user long pressed on a tab, triggering the collection creation screen
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/4358
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  save_button:
    type: event
    description: >
      A user pressed the "save to collection" button on either the home or browser screen, triggering the
      collection creation screen to open (tab_select_opened)
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/4358
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
    extra_keys:
      from_screen:
        description: >
          A string representing the screen from which the user pressed the save button.
          Currently one of: `browserMenu`, `homeMenu` or `home`
  rename_button:
    type: event
    description: >
      A user pressed the "rename collection" button in the three dot menu
    bugs:
      - 969
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/4539
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"

search_widget:
  new_tab_button:
    type: event
    description: >
      A user pressed anywhere from the Firefox logo until the start of the microphone icon, opening a
      new tab search screen.
    bugs:
      - 4457
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/4714
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"
  voice_button:
    type: event
    description: >
      A user pressed the microphone icon, opening a new voice search screen.
    bugs:
      - 4457
    data_reviews:
      - https://github.com/mozilla-mobile/fenix/pull/4714
    notification_emails:
      - fenix-core@mozilla.com
    expires: "2020-03-01"

experiments.metrics:
  active_experiment:
    type: string
    description: >
      Records the branch name of the active experiment, if the client is enrolled in the
      `fenix-test-2019-08-05` experiment. This is intended to validate that the service-experiments
      library properly matches clients to experiments and can take action based on a multi-branched
      experiment. This is done by recording the experiment branch name in this string metric which
      allows the experiment to be transparent and unobtrusive to the user.
    bugs:
      - 1543986
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1543986#c4
    notification_emails:
      - mcooper@mozilla.com
    expires: 2019-11-01
